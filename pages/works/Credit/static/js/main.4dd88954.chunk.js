(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{26:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),c=n(8),o=n.n(c),u=n(13),i=n(6),d="SET_LOAN_AMOUNT",l="SET_INTEREST_RATE",s="SET_LOAN_TERMS",j="SET_NUM_ITER_EARLY_REPAYMENT",b="SET_EARLY_PAYMENT",m="SET_ACTIVE_PAYMENT_INPUT",p="SET_TABS_ID",y="SET_DELETE_TAB",O=n(4),h=n(2),f={loanAmount:[0],interestRate:[0],loanTerms:[0],numIterEarlyRepayment:[],earlyPayment:[],activePaymentInput:[],tabsId:[0]},x=function(t){return t.loanAmount},v=function(t){return t.interestRate},E=function(t){return t.loanTerms},I=function(t){return t.numIterEarlyRepayment},P=function(t){return t.earlyPayment},T=function(t){return t.activePaymentInput},R=function(t){return t.tabsId},M=n(14),g={key:"root",storage:n.n(M).a},N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,_=Object(i.c)(Object(u.a)(g,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return t.loanAmount.length<e.payload.id+1&&t.loanAmount.push(0),Object(h.a)(Object(h.a)({},t),{},{loanAmount:Object(O.a)(t.loanAmount.map((function(t,n){return n===+e.payload.id?e.payload.loanAmount:t})))});case l:return t.interestRate.length<e.payload.id+1&&t.interestRate.push(0),Object(h.a)(Object(h.a)({},t),{},{interestRate:Object(O.a)(t.interestRate.map((function(t,n){return n===+e.payload.id?e.payload.interestRate:t})))});case s:return t.loanTerms.length<e.payload.id+1&&t.loanTerms.push(0),Object(h.a)(Object(h.a)({},t),{},{loanTerms:Object(O.a)(t.loanTerms.map((function(t,n){return n===+e.payload.id?e.payload.loanTerms:t})))});case j:return t.numIterEarlyRepayment.length<e.payload.id+1&&t.numIterEarlyRepayment.push([]),Object(h.a)(Object(h.a)({},t),{},{numIterEarlyRepayment:Object(O.a)(t.numIterEarlyRepayment.map((function(t,n){return n===+e.payload.id?t.concat(e.payload.numIterEarlyRepayment):t})))});case b:return t.earlyPayment.length<e.payload.id+1&&t.earlyPayment.push([]),Object(h.a)(Object(h.a)({},t),{},{earlyPayment:Object(O.a)(t.earlyPayment.map((function(t,n){return n===+e.payload.id?t.concat(e.payload.earlyPayment):t})))});case m:return t.activePaymentInput.length<e.payload.id+1&&t.activePaymentInput.push(0),Object(h.a)(Object(h.a)({},t),{},{activePaymentInput:Object(O.a)(t.activePaymentInput.map((function(t,n){return n===+e.payload.id?e.payload.activePaymentInput:t})))});case p:return Object(h.a)(Object(h.a)({},t),{},{tabsId:Object(O.a)(t.tabsId.concat(e.payload))});case y:return Object(h.a)(Object(h.a)({},t),{},{loanAmount:Object(O.a)(t.loanAmount.map((function(t,n){return n!==+e.payload?t:0}))),interestRate:Object(O.a)(t.interestRate.map((function(t,n){return n!==+e.payload?t:0}))),loanTerms:Object(O.a)(t.loanTerms.map((function(t,n){return n!==+e.payload?t:0}))),numIterEarlyRepayment:Object(O.a)(t.numIterEarlyRepayment.map((function(t,n){return n!==+e.payload?t:0}))),earlyPayment:Object(O.a)(t.earlyPayment.map((function(t,n){return n!==+e.payload?t:0}))),activePaymentInput:Object(O.a)(t.activePaymentInput.map((function(t,n){return n!==+e.payload?t:0}))),tabsId:Object(O.a)(t.tabsId.filter((function(t,n){return t!==+e.payload})))});default:return t}})),N()),A=Object(u.b)(_),S=n(3),k=n(15),C=n(5),w=(n(26),n(0));function F(t){return Object(w.jsxs)("div",{className:t.currentTabId==t.id?"tab active":"tab",id:t.id,onClick:t.onClick,children:["\u041a\u0440\u0435\u0434\u0438\u0442 ",t.id+1]})}n(28);function L(t){var e,n=Object(a.useState)(),r=Object(C.a)(n,2),c=r[0],o=r[1],u=function(t){o(t.target.value)};return Object(w.jsxs)("table",{className:void 0===t.data||0===t.data.length?"hidden":"result",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:"\u041c\u0435\u0441\u044f\u0446\u044b"}),Object(w.jsx)("td",{children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u043e\u043b\u0433\u0430"}),Object(w.jsx)("td",{children:"\u041f\u043b\u0430\u0442\u0435\u0436"}),Object(w.jsx)("td",{children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c"}),Object(w.jsx)("td",{children:"\u0414\u043e\u043b\u0433\u043e\u0432\u0430\u044f \u0447\u0430\u0441\u0442\u044c"}),Object(w.jsx)("td",{children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u043e\u043b\u0433\u0430 \u043d\u0430 \u043a\u043e\u043d\u0435\u0446 \u043f\u0435\u0440\u0438\u043e\u0434\u0430"}),Object(w.jsx)("td",{children:"\u0421\u0443\u043c\u043c\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"})]})}),null===(e=t.data)||void 0===e?void 0:e.map((function(e){return Object(w.jsx)("tbody",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.month}),Object(w.jsx)("td",{children:e.balanceOwed}),Object(w.jsx)("td",{children:e.earlyPayment}),Object(w.jsx)("td",{children:e.percentPart}),Object(w.jsx)("td",{children:e.debtPart}),Object(w.jsx)("td",{children:e.debtEndPeriod}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"number","data-early":c,onChange:u,className:"creditFormInput","data-num":e.month,onKeyDown:t.earlyRepayment,disabled:t.activePaymentInput!=e.month})})]})},e.month)})),Object(w.jsx)("tfoot",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:"\u0412\u0441\u0435\u0433\u043e \u0432\u044b\u043f\u043b\u0430\u0442: "}),Object(w.jsx)("td",{children:t.totalPayments.resultSum}),Object(w.jsx)("td",{children:"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430: "}),Object(w.jsx)("td",{children:t.totalPayments.resultPercentSum})]})})]})}n(29);function D(t){var e=Object(a.useState)([]),n=Object(C.a)(e,2),r=n[0],c=n[1],o=Object(a.useState)({}),u=Object(C.a)(o,2),i=u[0],p=u[1],y=Object(S.b)(),O=Object(S.c)(x),h=Object(S.c)(v),f=Object(S.c)(E),R=Object(S.c)(I),M=Object(S.c)(P),g=Object(S.c)(T),N=+O[t.id]||0,_=+h[t.id]||0,A=+f[t.id]||0,k=R[t.id]||[],F=M[t.id],D=g[t.id]||1,Y=function(e){var n=e.target;switch(n.name){case"loanAmount":y(function(t,e){return{type:d,payload:{loanAmount:t,id:e}}}(n.value,t.id));break;case"interestRate":y(function(t,e){return{type:l,payload:{interestRate:t,id:e}}}(n.value,t.id));break;case"loanTerms":y(function(t,e){return{type:s,payload:{loanTerms:t,id:e}}}(n.value,t.id))}},B=function(t,e,n,a,r,c){return{month:t,balanceOwed:e,earlyPayment:n,percentPart:a,debtPart:r,debtEndPeriod:c}};Object(a.useEffect)((function(){U()}),[F]);var U=function(){var e=_/100/12,n=1+e,a=Math.pow(n,A),r=N*(e+e/(a-1)),o=N,u=o*e,i=r-u,d=o-i,l=u,s=[];t:for(var j=1;j<=A;j++){for(var b=0;b<k.length;b++)if(j==k[b]){if(o<F[b]){l-=u,i=0,d=0,r=0,s[k[b]]=B(j,Math.round10(o,-2),F[b],0,Math.round10(i,-2),Math.round10(d,-2)),o=0,u=0;break t}d-=F[b]-r,s[k[b]]=B(j,Math.round10(o,-2),F[b],Math.round10(u,-2),Math.round10(i,-2),Math.round10(d,-2)),d=(o=d)-(i=r-(u=o*e)),l+=u,j++}s.push(B(j,Math.round10(o,-2),Math.round10(r,-2),Math.round10(u,-2),Math.round10(i,-2),Math.round10(d,-2))),d=(o=d)-(i=r-(u=o*e)),o<r&&(r=o,i=o,d=0),l+=u}var m=N+l,y=[];y[t.id]=s,c(y),p({resultSum:Math.round10(m,-2),resultPercentSum:Math.round10(l,-2)})},J=function(t){t.target.select()};return Object(w.jsxs)("main",{className:"creditForm",children:[Object(w.jsxs)("label",{children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u0439\u043c\u0430",Object(w.jsx)("input",{className:"creditFormInput",name:"loanAmount",value:N,onChange:Y,id:"loan-amount",type:"number",onFocus:J})]}),Object(w.jsxs)("label",{children:["\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430",Object(w.jsx)("input",{className:"creditFormInput",name:"interestRate",value:_,onChange:Y,id:"interest-rate",type:"number",onFocus:J})]}),Object(w.jsxs)("label",{children:["\u0421\u0440\u043e\u043a \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432\u0430\u043d\u0438\u044f (\u0432 \u043c\u0435\u0441\u044f\u0446\u0430\u0445)",Object(w.jsx)("input",{className:"creditFormInput",name:"loanTerms",value:A,onChange:Y,id:"loan-terms",type:"number",onFocus:J})]}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{type:"button",className:"creditFormButton credit-calc",onClick:U,children:"\u041f\u043e\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})}),Object(w.jsx)(L,{data:r[t.id],totalPayments:i,earlyRepayment:function(e){13==e.keyCode&&(y(function(t,e){return{type:j,payload:{numIterEarlyRepayment:t,id:e}}}(e.target.dataset.num,t.id)),y(function(t,e){return{type:b,payload:{earlyPayment:t,id:e}}}(e.target.dataset.early,t.id)),y(function(t,e){return{type:m,payload:{activePaymentInput:t,id:e}}}(+e.target.dataset.num+1,t.id)))},activePaymentInput:D})]})}!function(){function t(t,e,n){return"undefined"===typeof n||0===+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!==typeof n||n%1!==0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+n:n))))}Math.round10||(Math.round10=function(e,n){return t("round",e,n)}),Math.floor10||(Math.floor10=function(e,n){return t("floor",e,n)}),Math.ceil10||(Math.ceil10=function(e,n){return t("ceil",e,n)})}();n(30);function Y(){var t=Object(a.useState)(0),e=Object(C.a)(t,2),n=e[0],r=e[1],c=Object(S.b)(),o=Object(S.c)(R),u=function(t,e){return t>e?1:t==e?0:t<e?-1:void 0},i=function(t){r(t.target.id)};return Object(w.jsxs)("div",{className:"tabsPanel",children:[Object(w.jsx)("div",{className:"panel",children:o.map((function(t){return Object(w.jsx)(F,{id:t,currentTabId:n,onClick:i},t)}))}),Object(w.jsx)("button",{type:"button",onClick:function(){var t=function(t){var e=0,n=[];for(var a in t)n.push(t[a]);for(var r in n.sort(u),n)n[r]===e&&++e;return e}(o);c({type:p,payload:t}),r(t)},children:"\u0412\u0437\u044f\u0442\u044c"}),Object(w.jsx)("button",{type:"button",onClick:function(){c({type:y,payload:n}),r(n-1)},children:"\u0418\u0437\u0431\u0430\u0432\u0438\u0442\u044c\u0441\u044f"}),Object(w.jsx)(D,{id:n},n)]})}n(31);var B=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(Y,{})})};n(32),n(33);o.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(S.a,{store:_,children:Object(w.jsx)(k.a,{loading:null,persistor:A,children:Object(w.jsx)(B,{})})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.4dd88954.chunk.js.map