{"version":3,"sources":["store/credit/actions.jsx","store/credit/reducer.jsx","store/credit/selectors.jsx","store/index.jsx","components/Tab/index.jsx","components/CreditResultTable/index.jsx","components/CreditForm/index.jsx","pages/Credit/index.jsx","App.jsx","index.js"],"names":["SET_LOAN_AMOUNT","SET_INTEREST_RATE","SET_LOAN_TERMS","SET_NUM_ITER_EARLY_REPAYMENT","SET_EARLY_PAYMENT","SET_ACTIVE_PAYMENT_INPUT","SET_TABS_ID","SET_DELETE_TAB","initialState","loanAmount","interestRate","loanTerms","numIterEarlyRepayment","earlyPayment","activePaymentInput","tabsId","getLoanAmount","state","getInterestRate","getLoanTerms","getNumIterEarlyRepayment","getEarlyPayment","getActivePaymentInput","getTabsId","persistConfig","key","storage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","persistReducer","action","type","length","payload","id","push","map","item","index","concat","filter","persistor","persistStore","Tab","props","className","currentTabId","onClick","CreditResultTable","useState","value","setValue","handleChange","event","target","undefined","data","month","balanceOwed","percentPart","debtPart","debtEndPeriod","onChange","onKeyDown","earlyRepayment","disabled","totalPayments","resultSum","resultPercentSum","CreditForm","result","setResult","setTotalPayments","dispatch","useDispatch","useSelector","currentLoanAmount","currentInterestRate","currentLoanTerms","currentNumIterEarlyRepayment","currentEarlyPayment","currentActivePaymentInput","name","setLoanAmount","setInterestRate","setLoanTerms","newResultItem","useEffect","calc","p","e","d","Math","pow","payment","newResult","outer","i","j","round10","tempArr","handleSelect","select","onFocus","keyCode","setNumIterEarlyRepayment","dataset","num","setEarlyPayment","early","setActivePaymentInput","decimalAdjust","exp","isNaN","NaN","toString","split","floor10","ceil10","Credit","setCurrentTabId","compareNumeric","a","b","handleClick","freeId","array","idList","sort","searchFreeId","App","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.4dd88954.chunk.js","sourcesContent":["export const SET_LOAN_AMOUNT = \"SET_LOAN_AMOUNT\";\r\nexport const SET_INTEREST_RATE = \"SET_INTEREST_RATE\";\r\nexport const SET_LOAN_TERMS = \"SET_LOAN_TERMS\";\r\n\r\nexport const SET_NUM_ITER_EARLY_REPAYMENT = \"SET_NUM_ITER_EARLY_REPAYMENT\";\r\nexport const SET_EARLY_PAYMENT = \"SET_EARLY_PAYMENT\";\r\nexport const SET_ACTIVE_PAYMENT_INPUT = \"SET_ACTIVE_PAYMENT_INPUT\";\r\n\r\nexport const SET_TABS_ID = \"SET_TABS_ID\";\r\nexport const SET_DELETE_TAB = \"SET_DELETE_TAB\";\r\n\r\nexport const setLoanAmount = (loanAmount, id) => ({\r\n    type: SET_LOAN_AMOUNT,\r\n    payload:\r\n        {\r\n            loanAmount,\r\n            id,\r\n        },\r\n});\r\n\r\nexport const setInterestRate = (interestRate, id) => ({\r\n    type: SET_INTEREST_RATE,\r\n    payload:\r\n        {\r\n            interestRate,\r\n            id,\r\n        },\r\n});\r\n\r\nexport const setLoanTerms = (loanTerms, id) => ({\r\n    type: SET_LOAN_TERMS,\r\n    payload:\r\n        {\r\n            loanTerms,\r\n            id,\r\n        },\r\n});\r\n\r\nexport const setNumIterEarlyRepayment = (numIterEarlyRepayment, id) => ({\r\n    type: SET_NUM_ITER_EARLY_REPAYMENT,\r\n    payload:\r\n        {\r\n            numIterEarlyRepayment,\r\n            id,\r\n        },\r\n});\r\n\r\nexport const setEarlyPayment = (earlyPayment, id) => ({\r\n    type: SET_EARLY_PAYMENT,\r\n    payload:\r\n        {\r\n            earlyPayment,\r\n            id,\r\n        },\r\n});\r\n\r\nexport const setActivePaymentInput = (activePaymentInput, id) => ({\r\n    type: SET_ACTIVE_PAYMENT_INPUT,\r\n    payload:\r\n        {\r\n            activePaymentInput,\r\n            id,\r\n        },\r\n});\r\n\r\nexport const setTabsId = (id) => ({\r\n    type: SET_TABS_ID,\r\n    payload: id,\r\n});\r\n\r\nexport const setDeleteTab = (id) => ({\r\n    type: SET_DELETE_TAB,\r\n    payload: id,\r\n});","import { SET_ACTIVE_PAYMENT_INPUT, SET_DELETE_TAB, SET_EARLY_PAYMENT, SET_INTEREST_RATE, SET_LOAN_AMOUNT, SET_LOAN_TERMS, SET_NUM_ITER_EARLY_REPAYMENT, SET_TABS_ID } from \".\";\r\n\r\nconst initialState = {\r\n    // creditList: {\r\n    //     0: {\r\n    //         loanAmount: 0, //loanAmount: '1000', //Сумма займа\r\n    //         interestRate: 0, // interestRate: '10', //Процентная ставка\r\n    //         loanTerms: 0, //loanTerms: '10', //срок кредитования (в месяцах)\r\n    //         numIterEarlyRepayment: [], //numIterEarlyRepayment: ['1', '2'] // номер итерации рендера при досрочном платеже\r\n    //         earlyPayment: [], //earlyPayment: ['200', '200'] // размер досрочного платежа\r\n    //         activePaymentInput: null, //activePaymentInput: '3', // номер поля текущего платежа\r\n    //         tabsId: 0, //tabsId: '0' // номер вкладки\r\n    //     }\r\n    // },\r\n    //TODO переделать на такую структуру\r\n    // return {\r\n    //     ...state,\r\n    //     creditList: {\r\n    //         ...state.creditList,\r\n    //         [action.payload.id]: {\r\n    //                  loanAmount: 0, //loanAmount: '1000', //Сумма займа\r\n    //                  interestRate: 0, // interestRate: '10', //Процентная ставка\r\n    //                  loanTerms: 0, //loanTerms: '10', //срок кредитования (в месяцах)\r\n    //                  numIterEarlyRepayment: [], //numIterEarlyRepayment: ['1', '2'] // номер итерации рендера при досрочном платеже\r\n    //                  earlyPayment: [], //earlyPayment: ['200', '200'] // размер досрочного платежа\r\n    //                  activePaymentInput: null, //activePaymentInput: '3', // номер поля текущего платежа\r\n    //                  tabsId: action.payload.id, //tabsId: '0' // номер вкладки\r\n    //              },\r\n    //     }                \r\n    // };\r\n    loanAmount: [0], //loanAmount: ['1000', '1100', '1200'] //Сумма займа\r\n    interestRate: [0], // interestRate: ['10', '11', '12'] //Процентная ставка\r\n    loanTerms: [0], //loanTerms: ['10', '11', '12'] //срок кредитования (в месяцах)\r\n    numIterEarlyRepayment: [], //numIterEarlyRepayment: [['1', '2'], ['1', '2'], ['1', '2']] // номер итерации рендера при досрочном платеже\r\n    earlyPayment: [], //earlyPayment: [['200', '200'], ['110', '150'], ['120', '130']] // размер досрочного платежа\r\n    activePaymentInput: [], //activePaymentInput: ['3', '3', '3'] // номер поля текущего платежа\r\n    tabsId: [0], //tabsId: ['0', '1', '2'] // номер вкладки\r\n}\r\n\r\nexport const creditReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_LOAN_AMOUNT:\r\n            if(state.loanAmount.length < action.payload.id + 1) {\r\n                state.loanAmount.push(0);\r\n            }\r\n            return {                \r\n                ...state,\r\n                loanAmount: [\r\n                    ...state.loanAmount.map((item, index) => (index === +action.payload.id) ? action.payload.loanAmount : item),\r\n                ]\r\n            }\r\n\r\n        case SET_INTEREST_RATE:\r\n            if(state.interestRate.length < action.payload.id + 1) {\r\n                state.interestRate.push(0);\r\n            }\r\n            return {                \r\n                ...state,\r\n                interestRate: [\r\n                    ...state.interestRate.map((item, index) => (index === +action.payload.id) ? action.payload.interestRate : item),\r\n                ]\r\n            }\r\n\r\n        case SET_LOAN_TERMS:\r\n            if(state.loanTerms.length < action.payload.id + 1) {\r\n                state.loanTerms.push(0);\r\n            }\r\n            return {                \r\n                ...state,\r\n                loanTerms: [\r\n                    ...state.loanTerms.map((item, index) => (index === +action.payload.id) ? action.payload.loanTerms : item),\r\n                ]\r\n            }\r\n\r\n        case SET_NUM_ITER_EARLY_REPAYMENT:\r\n            if(state.numIterEarlyRepayment.length < action.payload.id + 1) {\r\n                state.numIterEarlyRepayment.push([]);\r\n            }\r\n            return {                \r\n                ...state,\r\n                numIterEarlyRepayment: [\r\n                    ...state.numIterEarlyRepayment.map((item, index) => (index === +action.payload.id) ? item.concat(action.payload.numIterEarlyRepayment) : item),\r\n                ]\r\n            }\r\n\r\n        case SET_EARLY_PAYMENT:\r\n            if(state.earlyPayment.length < action.payload.id + 1) {\r\n                state.earlyPayment.push([]);\r\n            }\r\n            return {                \r\n                ...state,\r\n                earlyPayment: [\r\n                    ...state.earlyPayment.map((item, index) => (index === +action.payload.id) ? item.concat(action.payload.earlyPayment) : item),\r\n                ]\r\n            }\r\n\r\n        case SET_ACTIVE_PAYMENT_INPUT:\r\n            if(state.activePaymentInput.length < action.payload.id + 1) {\r\n                state.activePaymentInput.push(0);\r\n            }\r\n            return {                \r\n                ...state,\r\n                activePaymentInput: [\r\n                    ...state.activePaymentInput.map((item, index) => (index === +action.payload.id) ? action.payload.activePaymentInput : item),\r\n                ]\r\n            }\r\n\r\n        case SET_TABS_ID:                      \r\n            return {                \r\n                ...state,\r\n                tabsId: [\r\n                    ...state.tabsId.concat(action.payload),\r\n                ]\r\n            }\r\n\r\n        case SET_DELETE_TAB:                      \r\n            return {                \r\n                ...state,\r\n                loanAmount: [\r\n                    ...state.loanAmount.map((item, index) => (index !== +action.payload) ? item : 0),\r\n                ],\r\n                interestRate: [\r\n                    ...state.interestRate.map((item, index) => (index !== +action.payload) ? item : 0),\r\n                ],\r\n                loanTerms: [\r\n                    ...state.loanTerms.map((item, index) => (index !== +action.payload) ? item : 0),\r\n                ],\r\n                numIterEarlyRepayment: [\r\n                    ...state.numIterEarlyRepayment.map((item, index) => (index !== +action.payload) ? item : 0),\r\n                ],\r\n                earlyPayment: [\r\n                    ...state.earlyPayment.map((item, index) => (index !== +action.payload) ? item : 0),\r\n                ],\r\n                activePaymentInput: [\r\n                    ...state.activePaymentInput.map((item, index) => (index !== +action.payload) ? item : 0),\r\n                ],\r\n                tabsId: [\r\n                    ...state.tabsId.filter((item, index) => item !== +action.payload),\r\n                ],\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n};","export const getLoanAmount = state => state.loanAmount;\r\n\r\nexport const getInterestRate = state => state.interestRate;\r\n\r\nexport const getLoanTerms = state => state.loanTerms;\r\n\r\nexport const getNumIterEarlyRepayment = state => state.numIterEarlyRepayment;\r\n\r\nexport const getEarlyPayment = state => state.earlyPayment;\r\n\r\nexport const getActivePaymentInput = state => state.activePaymentInput;\r\n\r\nexport const getTabsId = state => state.tabsId;","import { persistStore, persistReducer } from 'redux-persist';\r\nimport { compose, createStore } from 'redux';\r\nimport { creditReducer } from './credit';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n};\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(persistReducer(persistConfig, creditReducer), composeEnhancers());\r\n\r\nexport const persistor = persistStore(store);","import './index.css';\r\n\r\nexport default function Tab(props) {\r\n    return (\r\n        <div className={(props.currentTabId == props.id) ? \"tab active\" : \"tab\"} id={props.id} onClick={props.onClick}>\r\n            Кредит {props.id + 1}\r\n        </div>\r\n    )\r\n}","import { useState } from \"react\";\r\nimport './index.css';\r\n\r\nexport default function CreditResultTable(props) {\r\n    const [value, setValue] = useState();\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <table className={(props.data === undefined || props.data.length === 0) ? \"hidden\" : \"result\"}>\r\n            <thead>\r\n                <tr>\r\n                    <td>Месяцы</td>\r\n                    <td>Остаток долга</td>\r\n                    <td>Платеж</td>\r\n                    <td>Процентная часть</td>\r\n                    <td>Долговая часть</td>\r\n                    <td>Остаток долга на конец периода</td>\r\n                    <td>Сумма погашения</td>\r\n                </tr>\r\n            </thead>\r\n\r\n            {props.data?.map((item) =>\r\n\r\n                <tbody key={item.month}>\r\n                    <tr>\r\n                        <td>{item.month}</td>\r\n                        <td>{item.balanceOwed}</td>\r\n                        <td>{item.earlyPayment}</td>\r\n                        <td>{item.percentPart}</td>\r\n                        <td>{item.debtPart}</td>\r\n                        <td>{item.debtEndPeriod}</td>\r\n                        <td>\r\n                            <input\r\n                                type=\"number\"\r\n                                data-early={value}\r\n                                onChange={handleChange}\r\n                                className=\"creditFormInput\"\r\n                                data-num={item.month}\r\n                                onKeyDown={props.earlyRepayment}\r\n                                disabled={(props.activePaymentInput == item.month) ? false : true}>\r\n                            </input>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            )}\r\n\r\n            <tfoot>\r\n                <tr>\r\n                    <td>Всего выплат: </td>\r\n                    <td>{props.totalPayments.resultSum}</td>\r\n                    <td>Переплата: </td>\r\n                    <td>{props.totalPayments.resultPercentSum}</td>\r\n                </tr>\r\n            </tfoot>\r\n        </table>\r\n    )\r\n}","import { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getActivePaymentInput, getEarlyPayment, getInterestRate, getLoanAmount, getLoanTerms, getNumIterEarlyRepayment, setActivePaymentInput, setEarlyPayment, setInterestRate, setLoanAmount, setLoanTerms, setNumIterEarlyRepayment} from '../../store/credit';\r\nimport CreditResultTable from '../CreditResultTable';\r\nimport './index.css';\r\n\r\n// Замыкание\r\n(function () {\r\n    /**\r\n     * Корректировка округления десятичных дробей.\r\n     *\r\n     * @param {String}  type  Тип корректировки.\r\n     * @param {Number}  value Число.\r\n     * @param {Integer} exp   Показатель степени (десятичный логарифм основания корректировки).\r\n     * @returns {Number} Скорректированное значение.\r\n     */\r\n    function decimalAdjust(type, value, exp) {\r\n        // Если степень не определена, либо равна нулю...\r\n        if (typeof exp === 'undefined' || +exp === 0) {\r\n            return Math[type](value);\r\n        }\r\n        value = +value;\r\n        exp = +exp;\r\n        // Если значение не является числом, либо степень не является целым числом...\r\n        if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\r\n            return NaN;\r\n        }\r\n        // Сдвиг разрядов\r\n        value = value.toString().split('e');\r\n        value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));\r\n        // Обратный сдвиг\r\n        value = value.toString().split('e');\r\n        return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));\r\n    }\r\n\r\n    // Десятичное округление к ближайшему\r\n    if (!Math.round10) {\r\n        Math.round10 = function (value, exp) {\r\n            return decimalAdjust('round', value, exp);\r\n        };\r\n    }\r\n    // Десятичное округление вниз\r\n    if (!Math.floor10) {\r\n        Math.floor10 = function (value, exp) {\r\n            return decimalAdjust('floor', value, exp);\r\n        };\r\n    }\r\n    // Десятичное округление вверх\r\n    if (!Math.ceil10) {\r\n        Math.ceil10 = function (value, exp) {\r\n            return decimalAdjust('ceil', value, exp);\r\n        };\r\n    }\r\n})();\r\n\r\nexport default function CreditForm(props) { \r\n    const [result, setResult] = useState([]);\r\n    const [totalPayments, setTotalPayments] = useState({}); //Всего выплат   \r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const loanAmount = useSelector(getLoanAmount); //Сумма займа\r\n    const interestRate = useSelector(getInterestRate); //Процентная ставка\r\n    const loanTerms = useSelector(getLoanTerms); //срок кредитования (в месяцах)\r\n\r\n    const numIterEarlyRepayment = useSelector(getNumIterEarlyRepayment) // номер итерации рендера при досрочном платеже\r\n    const earlyPayment = useSelector(getEarlyPayment) // размер досрочного платежа\r\n    const activePaymentInput = useSelector(getActivePaymentInput) // номер поля текущего платежа\r\n\r\n    const currentLoanAmount = +loanAmount[props.id] || 0; //Текущая Сумма займа\r\n    const currentInterestRate = +interestRate[props.id] || 0; //Текущая Процентная ставка\r\n    const currentLoanTerms = +loanTerms[props.id] || 0; //Текущий срок кредитования (в месяцах)\r\n\r\n    const currentNumIterEarlyRepayment = numIterEarlyRepayment[props.id] || []; // Текущий номер итерации рендера при досрочном платеже\r\n    const currentEarlyPayment = earlyPayment[props.id]; // Текущий размер досрочного платежа\r\n    const currentActivePaymentInput = activePaymentInput[props.id] || 1; // Текущий номер поля текущего платежа\r\n\r\n    const handleChange = (event) => {\r\n        const target = event.target;\r\n\r\n        switch (target.name) {\r\n            case \"loanAmount\":\r\n                dispatch(setLoanAmount(target.value, props.id)); //Сумма займа\r\n                break;\r\n            case \"interestRate\":\r\n                dispatch(setInterestRate(target.value, props.id)); //Процентная ставка\r\n                break;\r\n            case \"loanTerms\":\r\n                dispatch(setLoanTerms(target.value, props.id)); //срок кредитования (в месяцах)\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Description of newResultItem function.\r\n     * @constructor\r\n     * @param {number} month - месяцы.\r\n     * @param {number} balanceOwed - Остаток долга.\r\n     * @param {number} earlyPayment - Платеж.\r\n     * @param {number} percentPart - Процентная часть.\r\n     * @param {number} debtPart - Долговая часть.\r\n     * @param {number} debtEndPeriod - Остаток долга на конец периода. \r\n     */\r\n\r\n    const newResultItem = (month, balanceOwed, earlyPayment, percentPart, debtPart, debtEndPeriod) => {\r\n        return {\r\n            month: month, //месяцы\r\n            balanceOwed: balanceOwed, //Остаток долга\r\n            earlyPayment: earlyPayment, //Платеж\r\n            percentPart: percentPart, // Процентная часть\r\n            debtPart: debtPart, // Долговая часть\r\n            debtEndPeriod: debtEndPeriod, // Остаток долга на конец периода\r\n        }\r\n    }\r\n\r\n    const earlyRepayment = (event) => {\r\n        if (event.keyCode == 13) {\r\n            dispatch(setNumIterEarlyRepayment(event.target.dataset.num, props.id))\r\n            dispatch(setEarlyPayment(event.target.dataset.early, props.id))\r\n            dispatch(setActivePaymentInput(+event.target.dataset.num + 1, props.id))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        calc();\r\n    }, [currentEarlyPayment]);\r\n\r\n    const calc = () => {\r\n        let p = currentInterestRate / 100 / 12; //1/100 доля процентной ставки (в месяц)\r\n        let e = 1 + p\r\n        let d = Math.pow(e, currentLoanTerms)\r\n        let c = d - 1\r\n        let b = p / c\r\n        let a = p + b\r\n        let payment = currentLoanAmount * a;\r\n\r\n        let balanceOwed = currentLoanAmount; //Остаток долга\r\n        let percentPart = balanceOwed * p; // Процентная часть\r\n        let debtPart = payment - percentPart; // Долговая часть\r\n        let debtEndPeriod = balanceOwed - debtPart; // Остаток долга на конец периода\r\n        let resultPercentSum = percentPart;\r\n\r\n        let newResult = [];\r\n\r\n        outer: for (let i = 1; i <= currentLoanTerms; i++) {\r\n            for (let j = 0; j < currentNumIterEarlyRepayment.length; j++) {\r\n                if (i == currentNumIterEarlyRepayment[j]) {\r\n                    if (balanceOwed < currentEarlyPayment[j]) {\r\n                        resultPercentSum -= percentPart;\r\n\r\n                        debtPart = 0;\r\n                        debtEndPeriod = 0;\r\n                        payment = 0;\r\n\r\n                        newResult[currentNumIterEarlyRepayment[j]] = newResultItem(i, Math.round10(balanceOwed, -2), currentEarlyPayment[j], 0, Math.round10(debtPart, -2), Math.round10(debtEndPeriod, -2));\r\n\r\n                        balanceOwed = 0;\r\n                        percentPart = 0;\r\n\r\n                        break outer;\r\n                    }\r\n\r\n                    debtEndPeriod = debtEndPeriod - (currentEarlyPayment[j] - payment);\r\n\r\n                    newResult[currentNumIterEarlyRepayment[j]] = newResultItem(i, Math.round10(balanceOwed, -2), currentEarlyPayment[j], Math.round10(percentPart, -2), Math.round10(debtPart, -2), Math.round10(debtEndPeriod, -2));\r\n\r\n                    balanceOwed = debtEndPeriod;\r\n                    percentPart = balanceOwed * p;\r\n                    debtPart = payment - percentPart;\r\n                    debtEndPeriod = balanceOwed - debtPart;\r\n                    resultPercentSum += percentPart;\r\n                    i++;\r\n                }\r\n            }\r\n\r\n            newResult.push(newResultItem(i, Math.round10(balanceOwed, -2), Math.round10(payment, -2), Math.round10(percentPart, -2), Math.round10(debtPart, -2), Math.round10(debtEndPeriod, -2)));\r\n\r\n            balanceOwed = debtEndPeriod;\r\n            percentPart = balanceOwed * p;\r\n            debtPart = payment - percentPart;\r\n            debtEndPeriod = balanceOwed - debtPart;\r\n\r\n            if (balanceOwed < payment) {\r\n                payment = balanceOwed;\r\n                debtPart = balanceOwed;\r\n                debtEndPeriod = 0;\r\n            }\r\n\r\n            resultPercentSum += percentPart;\r\n\r\n        }\r\n\r\n        let resultSum = currentLoanAmount + resultPercentSum;\r\n\r\n        let tempArr = [];\r\n        tempArr[props.id] = newResult;\r\n\r\n        setResult(tempArr);\r\n        setTotalPayments({\r\n            resultSum: Math.round10(resultSum, -2),\r\n            resultPercentSum: Math.round10(resultPercentSum, -2),\r\n        })\r\n    };\r\n\r\n    const handleSelect = (event) => {\r\n        event.target.select();\r\n    };\r\n\r\n    return (\r\n        <main className=\"creditForm\">\r\n            <label >\r\n                Сумма займа\r\n                <input\r\n                    className=\"creditFormInput\"\r\n                    name=\"loanAmount\"\r\n                    value={currentLoanAmount}\r\n                    onChange={handleChange}\r\n                    id=\"loan-amount\"\r\n                    type=\"number\"                    \r\n                    onFocus={handleSelect}\r\n                >\r\n                </input>\r\n            </label>\r\n            <label >\r\n                Процентная ставка\r\n                <input\r\n                    className=\"creditFormInput\"\r\n                    name=\"interestRate\"\r\n                    value={currentInterestRate}\r\n                    onChange={handleChange}\r\n                    id=\"interest-rate\"\r\n                    type=\"number\"\r\n                    onFocus={handleSelect}\r\n                >\r\n                </input>\r\n            </label>\r\n            <label >\r\n                Срок кредитования (в месяцах)\r\n                <input\r\n                    className=\"creditFormInput\"\r\n                    name=\"loanTerms\"\r\n                    value={currentLoanTerms}\r\n                    onChange={handleChange}\r\n                    id=\"loan-terms\"\r\n                    type=\"number\"\r\n                    onFocus={handleSelect}\r\n                >\r\n                </input>\r\n            </label>\r\n\r\n            <div>\r\n                <button type=\"button\" className=\"creditFormButton credit-calc\" onClick={calc}>Посчитать</button>\r\n            </div>\r\n\r\n            {<CreditResultTable\r\n                data={result[props.id]}\r\n                totalPayments={totalPayments}\r\n                earlyRepayment={earlyRepayment}\r\n                activePaymentInput={currentActivePaymentInput}\r\n            />}\r\n        </main>\r\n    )\r\n}","import { useState } from 'react';\r\nimport Tab from '../../components/Tab';\r\nimport CreditForm from '../../components/CreditForm';\r\nimport './index.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { getTabsId, setDeleteTab, setTabsId } from '../../store/credit';\r\n\r\nexport default function Credit() {\r\n    const [currentTabId, setCurrentTabId] = useState(0);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const tabsId = useSelector(getTabsId);\r\n\r\n    const compareNumeric = (a, b) => {\r\n        if (a > b) return 1;\r\n        if (a == b) return 0;\r\n        if (a < b) return -1;\r\n    }\r\n\r\n    const searchFreeId = (array) => {\r\n        let id = 0;\r\n        let idList = [];\r\n\r\n        for (let item in array) {\r\n            idList.push(array[item]);\r\n        }\r\n\r\n        idList.sort(compareNumeric);\r\n\r\n        for (let item in idList) {\r\n            if (idList[item] === id) {\r\n                ++id;\r\n            }\r\n        };\r\n\r\n        return id;\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        setCurrentTabId(event.target.id);\r\n    }\r\n\r\n    const plusTab = () => {\r\n        let freeId = searchFreeId(tabsId);\r\n        dispatch(setTabsId(freeId));\r\n        setCurrentTabId(freeId);\r\n    };\r\n    \r\n    const deleteTab = () => {\r\n        dispatch(setDeleteTab(currentTabId));\r\n        setCurrentTabId(currentTabId - 1);\r\n    };\r\n\r\n    return (\r\n        <div className=\"tabsPanel\">\r\n            <div className=\"panel\">\r\n                {tabsId.map(item => <Tab key={item} id={item} currentTabId={currentTabId} onClick={handleClick} />)}\r\n            </div>\r\n            \r\n            <button type=\"button\" onClick={plusTab}>Взять</button>\r\n            <button type=\"button\" onClick={deleteTab}>Избавиться</button>\r\n            \r\n            <CreditForm key={currentTabId} id={currentTabId} />\r\n\r\n        </div>\r\n    )\r\n}","import Credit from './pages/Credit';\nimport './css/App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Credit />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { persistor, store} from './store';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport App from './App';\n\nimport './css/variables.css';\nimport './css/index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}